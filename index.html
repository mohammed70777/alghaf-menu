<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>منيو مطعم الغاف الذكي</title>
<style>
  :root {
    --primary: #ea8a1a;
    --primary-soft: rgba(234, 138, 26, 0.08);
    --bg-main: #fcfcfd;
    --card-bg: #ffffff;
    --text-title: #0f172a;
    --text-body: #475569;
    --border: #e2e8f0;
    --radius: 20px;
  }

  * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
  body { margin: 0; font-family: system-ui, -apple-system, sans-serif; background-color: var(--bg-main); color: var(--text-body); scroll-behavior: smooth; }

  /* Navigation */
  .header-glass { position: sticky; top: 0; z-index: 1000; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(12px); border-bottom: 1px solid var(--border); }
  .nav-bar { max-width: 1200px; margin: 0 auto; padding: 12px 20px; display: flex; justify-content: space-between; align-items: center; }
  .quick-cats-bar { overflow-x: auto; white-space: nowrap; padding: 10px 20px; background: #fff; border-bottom: 1px solid var(--border); scrollbar-width: none; }
  .q-pill { display: inline-block; padding: 7px 16px; margin-left: 8px; background: #f1f5f9; border-radius: 50px; text-decoration: none; color: var(--text-body); font-size: 13px; font-weight: 600; transition: 0.3s; }
  .q-pill.active { background: var(--primary); color: white; }

  .shell { max-width: 1200px; margin: 20px auto; padding: 0 15px 100px; }
  .category-section { margin-bottom: 40px; scroll-margin-top: 150px; }
  .section-title { font-size: 22px; font-weight: 800; color: var(--text-title); margin-bottom: 20px; border-right: 5px solid var(--primary); padding-right: 12px; }

  /* Grid & Cards */
  .items-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(170px, 1fr)); gap: 15px; }
  
  .food-card { background: white; border-radius: var(--radius); overflow: hidden; border: 1px solid var(--border); transition: 0.3s; position: relative; display: flex; flex-direction: column; }
  .food-card.selected { border-color: var(--primary); box-shadow: 0 0 0 2px var(--primary); }

  .food-img { width: 100%; height: 140px; position: relative; background: #f8fafc; cursor: pointer; }
  .food-img img { width: 100%; height: 100%; object-fit: cover; }
  
  /* علامة الاختيار الذكية */
  .check-overlay { position: absolute; top: 10px; right: 10px; width: 26px; height: 26px; background: white; border: 2px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; z-index: 10; transition: 0.2s; }
  .food-card.selected .check-overlay { background: var(--primary); border-color: var(--primary); color: white; }
  .food-card.selected .check-overlay::after { content: '✓'; font-weight: bold; font-size: 14px; }

  .food-info { padding: 12px; flex-grow: 1; text-align: center; }
  .name-ar { font-size: 15px; font-weight: 700; color: var(--text-title); margin-bottom: 5px; height: 40px; overflow: hidden; }
  .price { font-size: 16px; font-weight: 800; color: var(--primary); margin-bottom: 10px; }

  /* التحكم في العدد */
  .qty-control { display: none; align-items: center; justify-content: center; gap: 12px; padding-bottom: 12px; }
  .food-card.selected .qty-control { display: flex; }
  .btn-qty { width: 28px; height: 28px; border-radius: 8px; border: 1px solid var(--primary); background: white; color: var(--primary); font-weight: bold; cursor: pointer; }
  .num-qty { font-weight: 800; font-size: 15px; color: var(--text-title); }

  /* Checkout Bar */
  .checkout-bar { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 400px; background: var(--text-title); color: white; padding: 15px 25px; border-radius: 50px; display: none; justify-content: space-between; align-items: center; box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 2000; cursor: pointer; }

  /* Summary Modal */
  #order-summary { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; z-index: 3000; display: none; padding: 30px 20px; overflow-y: auto; }
  .summary-item { display: flex; justify-content: space-between; padding: 12px; border-bottom: 1px solid #f1f5f9; font-size: 18px; }
</style>
</head>
<body>

<header class="header-glass">
  <div class="nav-bar">
    <h1 style="margin: 0; font-size: 18px; color: var(--primary);">منيو مطعم الغاف</h1>
  </div>
  <nav class="quick-cats-bar" id="pill-nav"></nav>
</header>

<div class="shell" id="menu-container"></div>

<div id="checkout-bar" class="checkout-bar" onclick="showSummary()">
  <span id="total-count">0 أصناف</span>
  <span style="font-weight: bold;">عرض الطلب للشيف ←</span>
</div>

<div id="order-summary">
  <div style="max-width: 600px; margin: 0 auto;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
      <h2 style="color: var(--primary);">قائمة الطلب</h2>
      <button onclick="hideSummary()" style="padding: 10px; border:none; background:#eee; border-radius:10px;">إغلاق</button>
    </div>
    <div id="summary-list"></div>
    <button onclick="window.print()" style="width: 100%; margin-top: 20px; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 12px; font-weight: bold;">طباعة الطلب للشيف</button>
  </div>
</div>

<script>
const menuData = [
  { id: 'soup', title: 'شوربة', items: [
    { name: 'شوربة روبيان بالكريمه', price: 24, img: 'Cream of Shrimp Soup 1.jpg' },
    { name: 'شوربة ثمار البحر بالكريمه', price: 24, img: 'Cream of Seafood Soup 1.jpg' },
    { name: 'شوربة توم يوم', price: 26, img: 'Tom Yum Soup 1.jpg' }
  ]},
  { id: 'cold-appetizers', title: 'مقبلات باردة', items: [
    { name: 'حمص', price: 12, img: 'Hummus 2.jpg' },
    { name: 'متبل', price: 12, img: 'mutabbal 4.jpg' },
    { name: 'بابا غنوج', price: 12, img: 'Baba Ghanoush 2.jpg' },
    { name: 'جرجير', price: 11, img: 'Rocca 1.jpg' },
    { name: 'تبولة', price: 14, img: 'Tabbouleh 2.jpg' },
    { name: 'فتوش', price: 14, img: 'Fattoush 1.jpg' },
    { name: 'سلطه خضراء', price: 13, img: 'Green Salad 1.jpg' },
    { name: 'خيار باللبن', price: 10, img: 'Cucumber with Yogurt 2.jpg' },
    { name: 'ميني مازا', price: 25, img: 'Mini Mezze 2.jpg' }
  ]},
  { id: 'your-kitchen', title: 'مطبخكم', items: [
    { name: 'هريس', price: 18, img: 'Harris 1.jpg' },
    { name: 'جريش', price: 18, img: 'Jarish 1.jpg' },
    { name: 'مرقوق', price: 19, img: 'Margouk 1.jpg' },
    { name: 'حمسة روبيان', price: 45, img: 'Shrimp Hamsa 1.jpg' },
    { name: 'حمسة باذنجان', price: 22, img: 'Eggplant Hamsa 1.jpg' },
    { name: 'حمسة دجاج', price: 25, img: 'Chicken Hamsa 1.jpg' },
    { name: 'برياني فيليه', price: 35, img: 'Fillet Biryani 1.jpg' },
    { name: 'برياني روبيان', price: 50, img: 'Shrimp Biryani 1.jpg' },
    { name: 'برياني دجاج', price: 35, img: 'Chicken Biryani 1.jpg' },
    { name: 'مجبوس لحم', price: 75, img: 'Lamb Mahboos 1.jpg' },
    { name: 'غوزي لحم', price: 75, img: 'Lamb Gozi 1.jpg' }
  ]},
  { id: 'our-choice', title: 'اختيارنا', items: [
    { name: 'فيله مقلي', price: 35, img: 'Fried Fillet.jpg' },
    { name: 'فيله مشوي', price: 35, img: 'Grilled Fillet.jpg' },
    { name: 'كنعد مشوي', price: 52, img: 'Grilled Kingfish.jpg' },
    { name: 'كنعد مقلي', price: 52, img: 'Fried Kingfish.jpg' },
    { name: 'سميكة الغاف', price: 90, img: 'Ghaf Fish.jpg' },
    { name: 'روبيان مقلي', price: 48, img: 'Fried Shrimp.jpg' },
    { name: 'روبيان مشوي', price: 50, img: 'Grilled Shrimp.jpg' },
    { name: 'قباقب مقلي', price: 39, img: 'Fried Crabs.jpg' },
    { name: 'قباقب مشوي', price: 39, img: 'Grilled Crabs.jpg' },
    { name: 'قباقب جبن', price: 42, img: 'Cheese Crabs.jpg' },
    { name: 'سلمون مشوي', price: 52, img: 'Grilled Salmon.jpg' },
    { name: 'طاجن سيفود', price: 42, img: 'Seafood Casserole.jpg' },
    { name: 'بطاطا مقلية', price: 8, img: 'Fried Potatoes.jpg' }
  ]},
  { id: 'rices', title: 'عيوش', items: [
    { name: 'مجبوس دجاج', price: 22, img: 'Chicken Majboos.jpg' },
    { name: 'مجبوس روبيان', price: 54, img: 'Shrimp Majboos.jpg' },
    { name: 'مطبق كنعد', price: 52, img: 'Kingfish Matbak.jpg' },
    { name: 'مطبق زبيدي 500/600', price: 75, img: 'Zubaidi Matbak 500-600.jpg' },
    { name: 'مطبق روبيان', price: 52, img: 'Shrimp Matbak.jpg' },
    { name: 'أرز أبيض', price: 8, img: 'White rice.jpg' },
    { name: 'أرز مطبق', price: 8, img: 'Matbak Rice.jpg' },
    { name: 'أرز صيادية', price: 8, img: 'Sayyadiyah Rice.jpg' },
    { name: 'أرز برياني', price: 8, img: 'Biryani rice.jpg' },
    { name: 'رز صيادية (إضافي)', price: 8, img: 'Sayadieh rice.jpg' }
  ]},
  { id: 'drinks', title: 'مشروبات', items: [
    { name: 'بيبسي', price: 3.5, img: 'Pepsi.jpg' },
    { name: 'سفن اب', price: 3.5, img: '7UP.jpg' },
    { name: 'سبرايت', price: 3.5, img: 'Sprite.jpg' },
    { name: 'ميرندا برتقال', price: 3.5, img: 'Miranda Orange.jpg' },
    { name: 'دايت بيبسي', price: 3.5, img: 'Diet Pepsi.jpg' },
    { name: 'دايت سبرايت', price: 3.5, img: 'Diet Sprite.jpg' },
    { name: 'مياه', price: 2, img: 'Water.jpg' },
    { name: 'مشروب سعودي كأس', price: 13, img: 'Saudi Drink Cup.jpg' },
    { name: 'ليمون نعناع', price: 12, img: 'Lemon Mint.jpg' },
    { name: 'عصير رمان', price: 12, img: 'Pomegranate Juice.jpg' },
    { name: 'برتقال', price: 14, img: 'Orange.jpg' },
    { name: 'لبن الغاف', price: 11, img: 'Ghaf Laban.jpg' },
    { name: 'مشروب سعودي (4 أشخاص)', price: 39, img: 'Saudi Drink (for four people).jpg' }
  ]},
  { id: 'sweets', title: 'حلويات', items: [
    { name: 'ام علي', price: 11, img: 'Umm Ali.jpg' },
    { name: 'لقيمات', price: 13, img: 'Laqimat.jpg' }
  ]},
  { id: 'visitor-package', title: 'جمعتنا', items: [
    { name: 'طبق الغاف', price: 250, img: 'Ghaf Platter.jpg' },
    { name: 'وليمة الغاف', price: 450, img: 'Ghaf Face Whiteness.jpg' }
  ]},
  { id: 'ghaf-fridge', title: 'ثلاجة الغاف', items: [
    { name: 'هامور', price: 109, img: 'Hamour.jpg' },
    { name: 'شعري', price: 84, img: 'Sheri.jpg' },
    { name: 'دنيس', price: 85, img: 'Dennis.jpg' },
    { name: 'قاروص', price: 80, img: 'Sibas.jpg' },
    { name: 'عندق', price: 83, img: 'Andaq.jpg' },
    { name: 'كنعد', price: 133, img: 'Kanad.jpg' },
    { name: 'صافي', price: 74, img: 'Safi.jpg' },
    { name: 'زبيدي', price: 145, img: 'Zubaidi.jpg' },
    { name: 'سلمون', price: 140, img: 'Salmon.jpg' },
    { name: 'استاكوزا', price: 170, img: 'Lobster.jpg' },
    { name: 'روبيان', price: 140, img: 'Shrimp.jpg' }
  ]}
];

let cart = {};

function init() {
  const container = document.getElementById('menu-container');
  const nav = document.getElementById('pill-nav');
  menuData.forEach((cat) => {
    nav.innerHTML += `<a href="#cat-${cat.id}" class="q-pill">${cat.title}</a>`;
    let itemsHtml = cat.items.map(item => `
      <article class="food-card" id="card-${item.name}">
        <div class="check-overlay" onclick="toggleItem('${item.name}', ${item.price})"></div>
        <div class="food-img" onclick="toggleItem('${item.name}', ${item.price})">
          <img src="${item.img}" onerror="this.src='https://via.placeholder.com/150?text=الغاف'">
        </div>
        <div class="food-info">
          <div class="name-ar">${item.name}</div>
          <div class="price">${item.price} ر.س</div>
        </div>
        <div class="qty-control">
          <button class="btn-qty" onclick="updateQty('${item.name}', 1)">+</button>
          <span class="num-qty" id="qty-${item.name}">1</span>
          <button class="btn-qty" onclick="updateQty('${item.name}', -1)">-</button>
        </div>
      </article>
    `).join('');
    container.innerHTML += `<section id="cat-${cat.id}" class="category-section"><h2 class="section-title">${cat.title}</h2><div class="items-grid">${itemsHtml}</div></section>`;
  });
}

function toggleItem(name, price) {
  const card = document.getElementById(`card-${name}`);
  if (cart[name]) { delete cart[name]; card.classList.remove('selected'); }
  else { cart[name] = { qty: 1, price: price }; card.classList.add('selected'); document.getElementById(`qty-${name}`).innerText = 1; }
  updateUI();
}

function updateQty(name, delta) {
  if (cart[name]) { cart[name].qty = Math.max(1, cart[name].qty + delta); document.getElementById(`qty-${name}`).innerText = cart[name].qty; updateUI(); }
}

function updateUI() {
  const count = Object.keys(cart).length;
  document.getElementById('checkout-bar').style.display = count > 0 ? 'flex' : 'none';
  document.getElementById('total-count').innerText = `${count} أصناف مختارة`;
}

function showSummary() {
  const list = document.getElementById('summary-list'); list.innerHTML = ''; let total = 0;
  for (let name in cart) {
    let itemTotal = cart[name].qty * cart[name].price; total += itemTotal;
    list.innerHTML += `<div class="summary-item"><span><b>${cart[name].qty}</b> × ${name}</span><span>${itemTotal} ر.س</span></div>`;
  }
  list.innerHTML += `<div style="padding:15px; text-align:left; font-size:22px; font-weight:900; color:var(--primary);">الإجمالي: ${total} ر.س</div>`;
  document.getElementById('order-summary').style.display = 'block';
}

function hideSummary() { document.getElementById('order-summary').style.display = 'none'; }

init();
</script>
</body>
</html>
